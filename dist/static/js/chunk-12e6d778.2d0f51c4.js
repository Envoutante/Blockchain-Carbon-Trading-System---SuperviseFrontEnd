(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12e6d778"],{"07ac":function(t,e,a){var n=a("23e7"),o=a("6f53").values;n({target:"Object",stat:!0},{values:function(t){return o(t)}})},"0fcb":function(t,e,a){"use strict";a("aeb0")},"5fd4":function(t,e,a){"use strict";var n=a("b775");e["a"]={turnToPost:function(t,e,a,o){return Object(n["a"])({url:"/turnTo",method:"post",data:{url:t,urlType:e,postBody:a,token:o}})},turnToGet:function(t,e,a){return Object(n["a"])({url:"/turnTo",method:"post",data:{url:t,urlType:e,token:a}})}}},"623a":function(t,e,a){},"6f53":function(t,e,a){var n=a("83ab"),o=a("df75"),i=a("fc6a"),r=a("d1e7").f,l=function(t){return function(e){var a,l=i(e),s=o(l),c=s.length,u=0,p=[];while(c>u)a=s[u++],n&&!r.call(l,a)||p.push(t?[a,l[a]]:l[a]);return p}};t.exports={entries:l(!0),values:l(!1)}},aeb0:function(t,e,a){},b4e2:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"链码名"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入链码名"},model:{value:t.searchForm.chaincodename,callback:function(e){t.$set(t.searchForm,"chaincodename",e)},expression:"searchForm.chaincodename"}})],1),a("el-form-item",{attrs:{label:"通道名"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入通道名"},model:{value:t.searchForm.channelname,callback:function(e){t.$set(t.searchForm,"channelname",e)},expression:"searchForm.channelname"}})],1),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:t.handleSearch}},[t._v(" 查询 ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-refresh-left"},on:{click:t.handleReset}},[t._v("清空")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.tableData,"element-loading-text":"加载中",stripe:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"chaincodename",label:"链码名",align:"center",sortable:""}}),a("el-table-column",{attrs:{prop:"channelname",label:"通道名",align:"center",sortable:""}}),a("el-table-column",{attrs:{prop:"createdt",label:"创建时间",align:"center",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.dayjs(e.row.createdt).format("YYYY/MM/DD HH:mm:ss")))]}}])}),a("el-table-column",{attrs:{prop:"creator_msp_id",label:"创建者ID",align:"center",sortable:""}}),a("el-table-column",{attrs:{prop:"txhash",label:"tx哈希",align:"center",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a-tooltip",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(e.row.txhash)+" 点击查看交易详情")]},proxy:!0}],null,!0)},[a("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(a){return t.openDialog(e.row.txhash)}}},[t._v(t._s(t._f("ellipsis")(e.row.txhash)))])],1)]}}])}),a("el-table-column",{attrs:{prop:"type",label:"类型",align:"center",sortable:""}})],1),a("sonDialog",{ref:"son"}),a("div",{staticStyle:{display:"flex","justify-content":"right"}},[a("el-pagination",{staticStyle:{padding:"30px 0"},attrs:{"current-page":t.pageNum,"page-sizes":[5,10,25,50,100],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},o=[],i=(a("4de4"),a("caad"),a("fb6a"),a("b64b"),a("d3b7"),a("07ac"),a("2532"),a("5fd4")),r=a("df6f"),l={components:{sonDialog:r["a"]},filters:{ellipsis:function(t){return t?t.length>=6?t.slice(0,6)+"...":t:""}},data:function(){return{listLoading:!0,transactionList:{},tableData:{},searchForm:{chaincodename:"",channelname:""},pageNum:1,pageSize:10}},created:function(){this.getTransactionList()},methods:{getTransactionList:function(){var t=this,e=localStorage.getItem("currentChannel"),a="/api/txList/"+e+"/0/0?from=Mon%20Aug%2028%202023%2015:04:43%20GMT+0800%20(%E4%B8%AD%E5%9B%BD%E6%A0%87%E5%87%86%E6%97%B6%E9%97%B4)&to=Fri%20Sep%2005%202025%2015:04:43%20GMT+0800%20(%E4%B8%AD%E5%9B%BD%E6%A0%87%E5%87%86%E6%97%B6%E9%97%B4)&page="+this.pageNum+"&size="+this.pageSize,n="GET",o=localStorage.getItem("platformToken");i["a"].turnToGet(a,n,o).then((function(e){t.transactionList=e.rows.txnsData,t.tableData=t.transactionList,t.listLoading=!1}))},openDialog:function(t){this.$refs.son.open(t)},handleSearch:function(){var t=this.searchForm,e=this.transactionList,a=e.filter((function(e){return Object.values(t).every((function(a,n){var o=String(e[Object.keys(t)[n]]),i=String(a);return o.includes(i)}))}));this.tableData=a},handleReset:function(){this.tableData=this.transactionList,this.searchForm.chaincodename="",this.searchForm.channelname=""},handleSizeChange:function(t){console.log("每页 ".concat(t," 条")),this.pageSize=t,this.pageNum=1,this.getTransactionList()},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.pageNum=t,this.getTransactionList()}}},s=l,c=a("2877"),u=Object(c["a"])(s,n,o,!1,null,null,null);e["default"]=u.exports},df6f:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{staticClass:"orderTrackTXID",attrs:{title:"🔍区块链交易事务日志溯源",width:900,"dialog-style":{top:"20px"},closeable:"",footer:null},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("div",{staticStyle:{"min-height":"300px"}},[t.loadingData?a("a-result",{attrs:{title:"区块交易事务溯源中..."},scopedSlots:t._u([{key:"icon",fn:function(){return[a("a-icon",{attrs:{type:"loading"}})]},proxy:!0}],null,!1,1196379478)}):a("div",{staticStyle:{padding:"10px 20px"}},[a("a-descriptions",[a("a-descriptions-item",{attrs:{label:"交易事务哈希",span:3}},[a("span",{staticStyle:{"font-family":"'Consolas', Menlo, Courier, monospace",color:"#134089"}},[t._v(t._s(t.txDetail.txhash))])]),a("a-descriptions-item",{attrs:{label:"有效载荷哈希",span:3}},[a("span",{staticStyle:{"font-family":"'Consolas', Menlo, Courier, monospace",color:"#134089"}},[t._v(" "+t._s(t.txDetail.payload_proposal_hash))])]),a("a-descriptions-item",{attrs:{label:"链码名"}},[t._v(" "+t._s(t.txDetail.chaincodename)+" ")]),a("a-descriptions-item",{attrs:{label:"通道名"}},[t._v(t._s(t.txDetail.channelname)+" ")]),a("a-descriptions-item",{attrs:{label:"交易事务时间"}},[t._v(t._s(t.createdtPrase(t.txDetail.createdt))+" ")]),a("a-descriptions-item",{attrs:{label:"MSP创建者代号"}},[a("a-tag",{attrs:{color:"purple"}},[t._v(" "+t._s(t.txDetail.creator_msp_id)+" ")])],1),a("a-descriptions-item",{attrs:{label:"背书组织代号",span:2}},t._l(t.endorser_msp_id_tags(t.txDetail.endorser_msp_id),(function(e,n){return a("span",{key:n},[a("a-tag",{attrs:{color:"purple"}},[t._v(" "+t._s(e)+" ")])],1)})),0),a("a-descriptions-item",{attrs:{label:"交易事务类型",span:2}},[t._v(" 背书交易 "),a("a-tooltip",{attrs:{placement:"topLeft"}},[a("template",{slot:"title"},[a("span",[t._v("此交易事务已获得特定组织节点的背书，以确保其符合规定的有效性和安全性标准。 ")])]),a("span",{staticStyle:{"padding-bottom":"2px","border-bottom":"1px dashed #495057",cursor:"pointer"}},[t._v("ENDORSER_TRANSACTION")])],2)],1),a("a-descriptions-item",{attrs:{label:"验证状态"}},[t.lang.includes("zh")?a("a-tag",{staticStyle:{"border-radius":"999px"},attrs:{color:"#20c997"}},[t._v(" 已验证 ( VALID ) ")]):a("a-tag",{staticStyle:{"border-radius":"999px"},attrs:{color:"#20c997"}},[t._v(" Valid ")])],1)],1),a("div",[a("div",{staticStyle:{"font-weight":"600",color:"black"}},[a("div",{staticStyle:{width:"50px",height:"10px",background:"#099268",display:"inline-block"}}),t._v(" 读取操作流 ")]),a("json-viewer",{attrs:{value:t.txDetail.read_set,"expand-depth":5,boxed:"",sort:"","show-array-index":!0,copyable:"",theme:"my-awesome-json-theme","line-height":20}},[a("template",{slot:"copy"},[a("a-icon",{attrs:{type:"copy"}}),t._v("复制 ")],1)],2)],1),a("div",{staticStyle:{"margin-top":"10px"}},[a("div",{staticStyle:{"font-weight":"600",color:"black"}},[a("div",{staticStyle:{width:"50px",height:"10px",background:"#fa8c16",display:"inline-block"}}),t._v(" 写入操作流 ")]),a("json-viewer",{attrs:{value:t.txDetail.write_set,"expand-depth":5,boxed:"",sort:"","show-array-index":!0,copyable:"",theme:"my-awesome-json-theme","line-height":20}},[a("template",{slot:"copy"},[a("a-icon",{attrs:{type:"copy"}}),t._v("复制 ")],1)],2)],1)],1),t.loadingData?t._e():a("div",{staticStyle:{width:"100%","font-size":"14px","text-align":"center",color:"grey"}},[t._v(" —— 碳 盟 链 道 —— ")])],1)])},o=[],i=(a("ac1f"),a("b775")),r={login:"/auth/login",detailTransaction:"/api/transaction",curChannel:"/api/curChannel"};function l(){return Object(i["a"])({url:"/turnTo",method:"post",data:{url:r.login,urlType:"POST",postBody:{user:"exploreradmin",password:"exploreradminpw",network:"org1-network"}}})}function s(t){return Object(i["a"])({url:"/turnTo",method:"post",data:{url:r.curChannel,urlType:"GET",token:t}})}function c(t,e,a){return Object(i["a"])({url:"/turnTo",method:"post",data:{url:r.detailTransaction+"/"+t+"/"+e,urlType:"GET",token:a}})}var u=a("349e"),p=a.n(u),d=a("5a0c"),h=a.n(d),m=a("0ecf"),f=a.n(m),b={data:function(){return{visible:!1,orderID:"",bE:{bEtoken:"",bEcurrentChannel:""},txDetail:null,loadingData:!0}},components:{JsonViewer:p.a},computed:{lang:function(){return"zh-CN"}},methods:{createdtPrase:function(t){return h.a.extend(f.a),h.a.utc(t).local().format("YYYY-MM-DD HH:mm")},open:function(t){console.log("打印："+t),this.loadingData=!0,this.visible=!0,this.orderID=t,this.login()},login:function(){var t=this;l().then((function(e){t.bE.bEtoken=e.token,s(t.bE.bEtoken).then((function(e){t.bE.bEcurrentChannel=e.currentChannel,t.fetchData()}))}))},fetchData:function(){var t=this;c(this.bE.bEcurrentChannel,this.orderID,this.bE.bEtoken).then((function(e){t.txDetail=e.row,setTimeout((function(){t.loadingData=!1}),700)}))},endorser_msp_id_tags:function(t){var e,a=/"([^"]*)"/g,n=[];while(e=a.exec(t))n.push(e[1]);return n}}},g=b,v=(a("fa67"),a("0fcb"),a("2877")),y=Object(v["a"])(g,n,o,!1,null,"69735a5b",null);e["a"]=y.exports},fa67:function(t,e,a){"use strict";a("623a")}}]);